(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{22:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(8),s=o.n(r),i=o(7),l=o.n(i),c=o(1),d=o.n(c),p=o(5),u=o(4),h=o.n(u),m=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();var f=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return n.state={showCallStore:!0,showPostcodeForm:!1,storeDetails:null,isValid:!1,postcode:"",error:!1,loading:!1},n.handleValidatePostcode=n.handleValidatePostcode.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handlePostcodeChange=n.handlePostcodeChange.bind(n),n.handleShowPostcodeForm=n.handleShowPostcodeForm.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),m(t,[{key:"handleSubmit",value:function(){var e=this;if(this.state.isValid){var t=this.props.apiUrl+"?postcode="+this.state.postcode;return this.setState({loading:!0}),l.a.get(t).then(function(t){var o=t.data.data[0],n={telephone:o.telephone.replace(/\D/g,""),name:o.name};e.setState({postcode:"",loading:!1,storeDetails:n,showPostcodeForm:!1})}).catch(function(){e.setState({error:!0,loading:!1})})}return!1}},{key:"handleShowPostcodeForm",value:function(){this.setState({showPostcodeForm:!0,showCallStore:!1})}},{key:"handlePostcodeChange",value:function(e){var t=e.target.value;this.setState({postcode:t}),this.handleValidatePostcode(t)}},{key:"handleValidatePostcode",value:function(e){var t=new RegExp("^[0-9]+$");4===e.length&&t.test(e)?this.setState({isValid:!0}):this.setState({isValid:!1})}},{key:"render",value:function(){return a.a.createElement("div",{className:h.a.Container},this.state.showCallStore&&a.a.createElement(p.a,{onClick:this.handleShowPostcodeForm,secondary:!0},"Call the nearest store"),this.state.showPostcodeForm&&a.a.createElement("div",{className:h.a.PostcodeForm},a.a.createElement("input",{className:h.a.FindPostcodeField,type:"text",placeholder:"Postcode",value:this.state.postcode,onChange:this.handlePostcodeChange}),a.a.createElement(p.a,{className:h.a.FindPostcodeButton,type:"button",loading:this.state.loading,disabled:!this.state.isValid||this.state.loading,onClick:this.handleSubmit},"Estimate")),this.state.error&&a.a.createElement("p",{className:h.a.Error},"Something went wrong, please try again"),this.state.storeDetails&&a.a.createElement(p.a,null,a.a.createElement("div",{className:h.a.CallStoreButton},a.a.createElement("img",{src:this.props.phoneIcon,alt:"phone icon"}),a.a.createElement("a",{href:"tel:"+this.state.storeDetails.telephone},"Call bah ",this.state.storeDetails.name))))}}]),t}();f.propTypes={apiUrl:d.a.string.isRequired,phoneIcon:d.a.string.isRequired};var b=f,g=document.getElementById("react-postcode-lookup"),_=g.dataset,P=_.apiUrl,w=_.phoneIcon;s.a.render(a.a.createElement(b,{apiUrl:P,phoneIcon:w}),g)},24:function(e,t,o){(t=e.exports=o(10)(!1)).push([e.i,".postcodeLookup_Container_1FmNJET {\n  margin-bottom: 30px; }\n\n.postcodeLookup_PostcodeForm_1DkDQif {\n  display: -ms-flexbox;\n  display: flex; }\n\n.postcodeLookup_FindPostcodeButton_2Pbbqn8 {\n  border-radius: 0 3px 3px 0; }\n\n.postcodeLookup_FindPostcodeField_38ave6b {\n  margin-bottom: 0;\n  height: 46px;\n  border: 1px solid #e5e5e5;\n  border-right: 0;\n  border-radius: 3px 0 0 3px;\n  min-width: 200px;\n  padding: 0 10px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box; }\n\n.postcodeLookup_CallStoreButton_39cXLQf {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center; }\n  .postcodeLookup_CallStoreButton_39cXLQf a {\n    color: #fff;\n    text-decoration: none; }\n  .postcodeLookup_CallStoreButton_39cXLQf img {\n    margin-right: 10px; }\n\n.postcodeLookup_Error_2uawA_z {\n  text-align: center;\n  color: #cc0000;\n  margin: 10px; }\n",""]),t.locals={Container:"postcodeLookup_Container_1FmNJET",PostcodeForm:"postcodeLookup_PostcodeForm_1DkDQif",FindPostcodeButton:"postcodeLookup_FindPostcodeButton_2Pbbqn8",FindPostcodeField:"postcodeLookup_FindPostcodeField_38ave6b",CallStoreButton:"postcodeLookup_CallStoreButton_39cXLQf",Error:"postcodeLookup_Error_2uawA_z"}},4:function(e,t,o){var n=o(24);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o(9)(n,a);n.locals&&(e.exports=n.locals)}},[[22,0,1]]]);