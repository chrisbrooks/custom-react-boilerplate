!function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],p=0,u=[];p<s.length;p++)i=s[p],r[i]&&u.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(d&&d(t);u.length;)u.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,s=1;s<o.length;s++){var l=o[s];0!==r[l]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},r={1:0},a=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;a.push([22,0]),o()}({22:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),a=o(8),i=o.n(a),s=o(7),l=o.n(s),c=o(1),d=o.n(c),p=o(5),u=o(4),h=o.n(u),f=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();var m=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));return n.state={showCallStore:!0,showPostcodeForm:!1,storeDetails:null,isValid:!1,postcode:"",error:!1,loading:!1},n.handleValidatePostcode=n.handleValidatePostcode.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handlePostcodeChange=n.handlePostcodeChange.bind(n),n.handleShowPostcodeForm=n.handleShowPostcodeForm.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),f(t,[{key:"handleSubmit",value:function(){var e=this;if(this.state.isValid){var t=this.props.apiUrl+"?postcode="+this.state.postcode;return this.setState({loading:!0}),l.a.get(t).then(function(t){var o=t.data.data[0],n={telephone:o.telephone.replace(/\D/g,""),name:o.name};e.setState({postcode:"",loading:!1,storeDetails:n,showPostcodeForm:!1})}).catch(function(){e.setState({error:!0,loading:!1})})}return!1}},{key:"handleShowPostcodeForm",value:function(){this.setState({showPostcodeForm:!0,showCallStore:!1})}},{key:"handlePostcodeChange",value:function(e){var t=e.target.value;this.setState({postcode:t}),this.handleValidatePostcode(t)}},{key:"handleValidatePostcode",value:function(e){var t=new RegExp("^[0-9]+$");4===e.length&&t.test(e)?this.setState({isValid:!0}):this.setState({isValid:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:h.a.Container},this.state.showCallStore&&r.a.createElement(p.a,{onClick:this.handleShowPostcodeForm,secondary:!0},"Call the nearest store"),this.state.showPostcodeForm&&r.a.createElement("div",{className:h.a.PostcodeForm},r.a.createElement("input",{className:h.a.FindPostcodeField,type:"text",placeholder:"Postcode",value:this.state.postcode,onChange:this.handlePostcodeChange}),r.a.createElement(p.a,{className:h.a.FindPostcodeButton,type:"button",loading:this.state.loading,disabled:!this.state.isValid||this.state.loading,onClick:this.handleSubmit},"Estimate")),this.state.error&&r.a.createElement("p",{className:h.a.Error},"Something went wrong, please try again"),this.state.storeDetails&&r.a.createElement(p.a,null,r.a.createElement("div",{className:h.a.CallStoreButton},r.a.createElement("img",{src:this.props.phoneIcon,alt:"phone icon"}),r.a.createElement("a",{href:"tel:"+this.state.storeDetails.telephone},"Call bah ",this.state.storeDetails.name))))}}]),t}();m.propTypes={apiUrl:d.a.string.isRequired,phoneIcon:d.a.string.isRequired};var b=m,g=document.getElementById("react-postcode-lookup"),y=g.dataset,P=y.apiUrl,_=y.phoneIcon;i.a.render(r.a.createElement(b,{apiUrl:P,phoneIcon:_}),g)},24:function(e,t,o){(t=e.exports=o(10)(!1)).push([e.i,".postcodeLookup_Container_2-PO8OH {\n  margin-bottom: 30px; }\n\n.postcodeLookup_PostcodeForm_TV_V9uo {\n  display: -ms-flexbox;\n  display: flex; }\n\n.postcodeLookup_FindPostcodeButton_3gQ5OQR {\n  border-radius: 0 3px 3px 0; }\n\n.postcodeLookup_FindPostcodeField_2JjwKJG {\n  margin-bottom: 0;\n  height: 46px;\n  border: 1px solid #e5e5e5;\n  border-right: 0;\n  border-radius: 3px 0 0 3px;\n  min-width: 200px;\n  padding: 0 10px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box; }\n\n.postcodeLookup_CallStoreButton_1JRP-si {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center; }\n  .postcodeLookup_CallStoreButton_1JRP-si a {\n    color: #fff;\n    text-decoration: none; }\n  .postcodeLookup_CallStoreButton_1JRP-si img {\n    margin-right: 10px; }\n\n.postcodeLookup_Error_1aVB1iV {\n  text-align: center;\n  color: #cc0000;\n  margin: 10px; }\n",""]),t.locals={Container:"postcodeLookup_Container_2-PO8OH",PostcodeForm:"postcodeLookup_PostcodeForm_TV_V9uo",FindPostcodeButton:"postcodeLookup_FindPostcodeButton_3gQ5OQR",FindPostcodeField:"postcodeLookup_FindPostcodeField_2JjwKJG",CallStoreButton:"postcodeLookup_CallStoreButton_1JRP-si",Error:"postcodeLookup_Error_1aVB1iV"}},4:function(e,t,o){var n=o(24);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(9)(n,r);n.locals&&(e.exports=n.locals)}});